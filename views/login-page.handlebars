<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <!-- This is a comment -->

        <title> Pomelody </title>

        <!-- Our  CSS -->
        <link href="css/style.css" rel="stylesheet">
        <link href="css/flat-ui.css" rel="stylesheet">
        <!-- Makes Website  Responsive -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
         <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
        <!-- jQuery library -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <!-- Latest compiled Bootstrap -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

        <script type="text/javascript" src="js/login-settings.js"></script>
        {{> facebook}}
        <script src="/js/facebook.js"></script>

        <!-- Loading Bootstrap -->
        <link href="dist/css/vendor/bootstrap.min.css" rel="stylesheet">

        <!-- Loading Flat UI Pro -->
        <link href="dist/css/flat-ui.css" rel="stylesheet">

        <!-- Google Analytics -->
        <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-135763634-1', 'auto');
        ga('send', 'pageview');
        </script>
        <!-- End Google Analytics -->


    </head>


    <body>
       <h1 class="header"> Welcome to Pomelody! </h1>

        <div class="center-container">
                <form>
                    <h2> Username: </h2>
                    <form action="/action_page.php" method="post">
                      <input type="text" id="username" required class="form-control">


                    <h2> Password: </h2>
                    <input type="password" ng-model="dataItem.password" class="form-control" name="password" placeholder="********" id="password" required/>
                </form>
            <div class="enter_button">
                <button type="submit" class="btn btn-primary" onclick= "validateForm()" id="enter-button"> Enter </button>
            </div>
        </div>


        <hr>

        <h2> Login With Spotify: </h2>

        <div class="center-container">
          <p class="spotifyLogin">
            <button id="spotify-login" class="btn btn-primary" onclick="spotifyLogin()">Log in with Spotify</button>
          </p>
        </div>

        <script type="text/javascript">
            function spotifyLogin() {
                var authorizeURL = 'https://accounts.spotify.com/authorize' + '?';
                console.log(document.URL);
                console.log("Upon log in button, the current redirect page is", document.URL + 'spotifyLogin');
                var scope = "streaming user-read-private user-modify-playback-state user-read-birthdate user-read-email";
                var params = {
                    client_id: "b4c291c0effb4b64bd6b961dc52fab74",
                    response_type: "code",
                    redirect_uri: document.URL + 'spotifyLogin',
                    scope: scope
                }
                authorizeURL += $.param(params);

                console.log(authorizeURL);
                window.location.href = authorizeURL;
            }
        </script>

        <hr>

        <h2> Or Login With Facebook: </h2>

        <div class="center-container">
          <p class="facebookLogin">
            <fb:login-button scope="public_profile,email" onlogin="checkLoginState();">
            </fb:login-button>
          </p>
        </div>

        <script type="text/javascript">



        // Pressing Enter should press button
        var input = document.getElementById("password");
        console.log("i go here");
        input.addEventListener("keyup", function(event) {
          if (event.keyCode === 13) {
           event.preventDefault();
           document.getElementById("enter-button").click();
          }
        });
        </script>




    </body>
</html>
